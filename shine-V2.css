/**
 * SHINE 4.0 - PASTEL PRISM WORLD
 * "The Full 3D Redesign"
 */

@property --rotate-world { syntax: "<angle>"; initial-value: 0deg; inherits: true; }
@property --pastel-hue { syntax: "<angle>"; initial-value: 260deg; inherits: true; }

:root {
    /* -- PALETTE: Soft Pastels (Eye Care) -- */
    --pastel-bg-1: #e0c3fc; /* Soft Lavender */
    --pastel-bg-2: #8ec5fc; /* Baby Blue */
    --pastel-bg-3: #90f1ef; /* Mint */
    
    --card-bg: rgba(255, 255, 255, 0.85);
    --card-border: 2px solid white;
    --card-shadow: 0 20px 50px rgba(50, 50, 93, 0.15), 
                   0 8px 15px rgba(0, 0, 0, 0.1);
    
    /* -- 3D VARIABLES -- */
    --depth-layer-1: translateZ(20px);
    --depth-layer-2: translateZ(50px);
    --world-perspective: 1200px;
}

/* ==============================================
   1. THE 3D STAGE (Background & Perspective)
   ============================================== */

body {
    /* Moving Pastel Sky */
    background: conic-gradient(from 180deg at 50% 50%, 
        var(--pastel-bg-1), var(--pastel-bg-2), var(--pastel-bg-3), var(--pastel-bg-1));
    background-size: 200% 200%;
    animation: pastelFlow 20s linear infinite;
}

@keyframes pastelFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

#app-mount {
    background: transparent;
    perspective: var(--world-perspective);
    overflow: hidden; /* Hide 3D overflow */
}

/* Clear all default backgrounds to let the world shine through */
.bg__960e4, .app_de4237, .appBot__5e434 {
    background: transparent;
}

/* ==============================================
   2. THE PANELS: 3D Porcelain Cards
   ============================================== */

/* -- SHARED 3D CARD STYLE -- */
.guilds__5e434,         /* Server List */
.sidebar__5e434,        /* Channel List */
.container_c8ffbb,      /* Member List */
.chat_f75fb0,           /* Chat View */
.container__133bf {     /* Friends */
    background: var(--card-bg) !important;
    backdrop-filter: blur(20px) saturate(180%);
    border-radius: 30px;
    border: var(--card-border);
    box-shadow: var(--card-shadow);
    
    /* 3D Physics */
    transform-style: preserve-3d;
    transition: transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* -- SERVER LIST (Left-most Pillar) -- */
.guilds__5e434 {
    margin: 20px;
    width: 80px;
    transform: rotateY(5deg) translateX(-10px);
}
.guilds__5e434:hover {
    transform: rotateY(0deg) translateZ(20px) scale(1.05);
}

/* -- CHANNEL SIDEBAR -- */
.sidebar__5e434 {
    margin: 20px 10px;
    border-radius: 30px;
    transform: translateZ(10px);
}
.privateChannels_e6b769, .scroller__99e7c { background: transparent !important; }

/* -- CHAT AREA (Center Stage) -- */
.chat_f75fb0 {
    margin: 20px 20px 20px 10px;
    transform: translateZ(0px);
    /* Make chat items pop */
    transform-style: preserve-3d;
}

/* -- 3D Hover Effect for Main Panels -- */
.sidebar__5e434:hover,
.chat_f75fb0:hover {
    box-shadow: 0 40px 80px rgba(50,50,93,0.25);
    transform: translateZ(40px) scale(1.01);
    z-index: 100;
}

/* ==============================================
   3. DECORATION: ROTATING 3D DICE & CUBES
   ============================================== */

/* -- THE DISCORD HOME BUTTON -> BECOMES A SPINNING DIE -- */
.tutorialContainer__1f388 .wrapper__6e9f8 {
    background: transparent !important;
    box-shadow: none !important;
    transform-style: preserve-3d;
    animation: diceSpin 8s linear infinite;
}

/* Hide default icon, we make our own faces */
.tutorialContainer__1f388 .childWrapper__6e9f8 svg { display: none; }

.tutorialContainer__1f388 .childWrapper__6e9f8 {
    background: #6C5CE7; /* Die Color */
    width: 100%; height: 100%;
    position: relative;
    transform-style: preserve-3d;
}

/* Fake the cube depth using pseudo-elements */
.tutorialContainer__1f388 .childWrapper__6e9f8::before,
.tutorialContainer__1f388 .childWrapper__6e9f8::after {
    content: ""; position: absolute;
    width: 100%; height: 100%;
    background: inherit;
    border: 2px solid white;
    opacity: 0.9;
}
.tutorialContainer__1f388 .childWrapper__6e9f8::before {
    transform: translateZ(-10px); /* Back Face */
}
.tutorialContainer__1f388 .childWrapper__6e9f8 {
    transform: translateZ(10px); /* Front Face */
}

/* The spinning animation */
@keyframes diceSpin {
    0% { transform: rotateX(0) rotateY(0) rotateZ(0); }
    100% { transform: rotateX(360deg) rotateY(360deg) rotateZ(360deg); }
}

/* -- AMBIENT BACKGROUND CUBES (Added to Title Bar area) -- */
.wordmarkWindows_a934d8::before,
.wordmarkWindows_a934d8::after {
    content: "ðŸŽ²";
    position: absolute;
    font-size: 40px;
    opacity: 0.3;
    animation: floatCube 10s ease-in-out infinite;
    top: 50vh;
    left: 50vw;
    z-index: -1;
    text-shadow: 0 0 20px white;
}
.wordmarkWindows_a934d8::after {
    content: "ðŸ§Š";
    animation-duration: 15s;
    animation-delay: -5s;
    left: 20vw;
}

@keyframes floatCube {
    0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
    50% { transform: translateY(-40px) rotate(20deg) scale(1.2); }
}

/* ==============================================
   4. RESTORED MARBLE BUTTONS (Refined for Pastel)
   ============================================== */
.container_aa63ab > .buttonContainer_aa63ab > .button_aa63ab {
    width: 55px; height: 55px;
    border-radius: 50%;
    background-image: url(https://blade04208.github.io/shine/src/marble.png) !important;
    background-size: 150%;
    background-position: center;
    border: 4px solid white; /* Thick white rim */
    box-shadow: 0 10px 20px rgba(0,0,0,0.15);
    transform: translateZ(30px); /* Lift button off chat */
    transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.container_aa63ab > .buttonContainer_aa63ab > .button_aa63ab:hover {
    transform: translateZ(50px) scale(1.15) rotate(90deg);
    background-image: url(https://blade04208.github.io/shine/src/marble-active.png) !important;
    box-shadow: 0 0 30px #a29bfe; /* Glowing pastel aura */
    border-color: #a29bfe;
}

/* ==============================================
   5. BOTTOM RIGHT: 3D PRISM ANCHOR
   ============================================== */
#app-mount::after {
    content: "";
    position: fixed;
    bottom: 25px; 
    right: 25px;
    width: 40px; 
    height: 40px;
    
    /* 3D Triangle Prism Construction */
    background: conic-gradient(from 45deg,
        #ff9ff3, /* Pink */
        #54a0ff, /* Blue */
        #5f27cd, /* Purple */
        #ff9ff3
    );
    clip-path: polygon(100% 0, 0% 100%, 100% 100%);
    
    z-index: 9999;
    cursor: se-resize;
    -webkit-app-region: drag;
    
    /* Material properties */
    box-shadow: -5px -5px 20px rgba(255,255,255,0.5) inset,
                 5px 5px 20px rgba(0,0,0,0.2) inset;
    border-radius: 0 0 10px 0;
    transition: transform 0.5s;
    transform: translateZ(50px);
    
    /* Make it bounce/float */
    animation: prismFloat 4s ease-in-out infinite;
}

@keyframes prismFloat {
    0%, 100% { transform: translateY(0px) rotateZ(0deg); }
    50% { transform: translateY(-10px) rotateZ(5deg); }
}

#app-mount::after:hover {
    transform: scale(1.5) rotate(360deg);
    clip-path: polygon(50% 0%, 0% 100%, 100% 100%); /* Becomes full triangle on hover */
}

/* ==============================================
   6. INTERFACE POLISH (The Clean Modern Look)
   ============================================== */

/* -- BUBBLE CHAT INPUT -- */
.form_f75fb0 { padding: 0 24px 20px 24px; }

.channelTextArea_f75fb0 {
    background: white !important;
    border-radius: 50px;
    padding: 4px;
    box-shadow: 
        inset 0 2px 5px rgba(0,0,0,0.05),
        0 10px 20px rgba(100,100,255,0.1);
    transition: transform 0.2s;
}
.channelTextArea_f75fb0:hover {
    transform: scale(1.02) translateY(-2px);
}

/* -- TEXT READABILITY FIX (Since backgrounds are light) -- */
.theme-dark, .theme-light {
    --text-normal: #2d3436;
    --text-muted: #636e72;
    --header-primary: #2d3436;
    --channels-default: #636e72;
}

/* -- SERVER ICONS AS BUBBLES -- */
.wrapper__58105 .childWrapper__6e9f8 {
    background: white;
    color: #6C5CE7;
    box-shadow: inset 0 -3px 0 rgba(0,0,0,0.1);
}
.wrapper__58105.selected__6e9f8 .childWrapper__6e9f8 {
    background: linear-gradient(135deg, #a29bfe, #6c5ce7);
    color: white;
    transform: rotate(360deg); /* Spin on select */
}

/* -- HIDE TOP BAR DRAG AREA TO CLEAN UP -- */
.typeWindows_a934d8 { 
    height: 10px; margin: 0; background: transparent; 
}
.wordmarkWindows_a934d8, .winButton_a934d8 { display: none; }

/* -- MESSAGES SLIP-IN ANIMATION -- */
@keyframes slipIn3D {
    from { opacity: 0; transform: perspective(500px) rotateX(90deg) translateY(50px); }
    to { opacity: 1; transform: perspective(500px) rotateX(0deg) translateY(0); }
}
.message_d5deea {
    animation: slipIn3D 0.4s forwards;
}

/* -- FLOATING USER PANEL -- */
.panels__5e434 {
    margin-bottom: 30px; /* Float higher */
    margin-left: 10px;
    border-radius: 50px;
    background: white;
    box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    border: 2px solid white;
    max-width: 240px;
    transform: translateZ(60px); /* Sticks out the most */
}
